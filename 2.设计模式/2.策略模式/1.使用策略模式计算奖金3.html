<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }
    </style>
    <script>
        var performanceS = function(){};
        performanceS.prototype.calculate = function( salary ){
            return salary * 4;
        };
        var performanceA = function(){};
        performanceA.prototype.calculate = function( salary ){
            return salary * 3;
        };
        var performanceB = function(){};
        performanceB.prototype.calculate = function( salary ){
            return salary * 2;
        };

        // 定义奖金类Bonus
        var Bonus = function(){
            this.salary = null;     // 原始工资
            this.strategy = null;   // 绩效等级对应的策略模式
        };

        Bonus.prototype.setSalary = function( salary ){
            this.salary = salary;   // 设置员工的原始工资
        };
        Bonus.prototype.setStrategy = function( strategy ){
            this.strategy = strategy;   // 设置员工绩效等级对应的策略对象
        };
        Bonus.prototype.getBonus = function(){  // 取得奖金数额
            return this.strategy.calculate( this.salary );  // 把计算奖金的操作委托给对象的策略对象
        };

        var bonus = new Bonus();

        bonus.setSalary( 1000 );
        bonus.setStrategy( new performanceS() );    // 设置策略

        alert( bonus.getBonus() );

        bonus.setSalary( 2000 );
        bonus.setStrategy( new performanceA() );
        alert( bonus.getBonus() );
    </script>
</head>
<body>

</body>
</html>