<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }
    </style>
</head>
<body>
    <script>
        /*
        * 问题：
        * 违反了单一职责原则
        *
        * 单一职责原则：就一个类(通常也包括对象和函数等)而言，应该仅有一个引起它变化的原因
        * 如果一个对象承担了多项职责，就意味着这个对象将变得巨大，引起它变化的原因可能会有多个
        * 面向对象设计鼓励将行为分布到细粒度的对象之中，如果一个对象承担的职责过多，等于把这些
        * 职责耦合到了一起，这种耦合会导致脆弱和低内聚的设计。当变化发生时，设计可能会遭到意外的破坏
        * */
        var MyImage = (function(){
            var imgNode = document.createElement('img');
            document.body.appendChild( imgNode );
            var img = new Image();

            img.onload = function(){
                imgNode.src = img.src;
            };

            return {
                setSrc: function(src){
                    imgNode.src = 'roller.gif';
                    img.src = src;
                }
            }
        })();

        MyImage.setSrc( 'http://img2.3lian.com/2014/f6/173/d/51.jpg' );
    </script>
</body>
</html>